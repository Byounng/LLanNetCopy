# 目录

- [局域网文件多线程传送脚本](#局域网文件多线程传送脚本)
- [需要安装的包](#requirement)
- [使用说明](#教程)
- [CLI.py 参数说明](#CLI.py)

## 局域网文件多线程传送脚本
此脚本用于局域网或是大内网的多层级网络设备间文件互传，速率基本可以跑满网卡，主要是满足内网（不仅限于局域网）内文件高速同步互传。

如你在学校内网中有个IP 10.84.2.188 然后你在实验室的IP 是这个网段的子网下面的 192.168.0.66 这时候虽然他们不在一个局域网，但是还是可以互传文件

- 可以用在双设备可以相互PING通，此时双方谁做客户端谁做服务端无所谓
- 也可与用在高层级网络可以单向PING通低层级网络， 比如 A 设备IP 在学校内网IP是 10.84.2.188（设备A） 而你要传送给的设备在这个层级的子网下，其IP是192.168.0.66 (设备B) ，那么此时只有B可以PING到A，这种情况拿A做服务端，B做客户端,B连接到A ，然后双方可以相互发送文件。
```lua
              +------------------+
              |       R1         |
              |   IP: 10.84.0.1  |
              +--------+---------+
                       |
                       |
       +---------------+--------------------+
       |                |                   |
       |                |                   |
+------+-------+ +------+-------+ +---------+-+-------------+
| 10.84.2.188  | | 10.84.2.189  | |   ...   | | 10.84.2.200 |
|     (A)      | |     (U) R2   | |   ...   | |     (J)     |
+--------------+ +--------------+ +---------+ +-------------+
                       |
                       |

                       |
                       |
        +--------------+--------------+
        |              |              |
+-------+-------+ +---+-----------+ +---+-----+ +---------------+
| 192.168.0.99  | | 192.168.0.66  | |   ...   | | 192.168.0.111 |
|       (K)     | |      (B)      | |   ...   | |     (M)       |
+---------------+ +---------------+ +---------+ +----------- ---+


```
####  requirement
 `  pip install tqdm     `

### NOTE:
- -path 参数可以用来指定单个文件或文件夹。如果指定的是文件夹，该文件夹下只能包含文件，不能有子文件夹。例如，-path a.pth 是有效的，-path c:\\file_wait_trs 也是有效的，但前提是文件夹 c:\\file_wait_trs 下没有子文件夹。

- 保存端路径：运行目录的 ` .\received_files `

## 教程：
在A设备比如IP为10.84.2.188，然后 B设备 在更小的内网，比如IP为某个路由器分配的192.168.0.66 时，此时A做服务端,B做客户端

如果想从A上面传文件到B  

则 A端先执行： `python cli.py -mode s -action s -path your_path`  
然后B端执行 `python cli.py -mode c -action r -ip 10.84.2.188`

如果想从B传文件到A ，

同样的，作为服务端的A先执行：  `python cli.py -mode s -action r`  
然后B端执行 `python cli.py -mode c -action s -ip 10.84.2.188 -path your_path`

其中`your_path` 可以是单个文件的路径，你也可以把要传送的文件复制到路径`special_path`下，然后把`special_path` 作为`your_path`的参数。


### CLI.py

参数修改：



作为服务端（接收文件）：
`python cli.py -mode s -action r`


作为客户端（发送文件）：
`python cli.py -mode c -action s -ip 192.168.0.1 -path your_path`


作为客户端（接收文件）：
`python cli.py -mode c -action r -ip 192.168.0.1`


作为服务端（发送文件）：
`python cli.py -mode s -action s -path your_path`




